
<% title "My Pins" %>

<div style="position:absolute; top:42px; left: 0px; right:0px; bottom: 0px;">
  <div id="map" style='height:100%;'></div>
</div>

<!-- Note: markers are built in the pin controller -->
<script type="text/javascript">
	var myOptions = {
	    
	};

	handler = Gmaps.build('Google', { markers: { maxRandomDistance: null } });
	handler.buildMap({ provider: {
			mapTypeId: google.maps.MapTypeId.ROADMAP,
	    styles: [
		    {
		        "stylers": [
		            {
		                "visibility": "on"
		            }
		        ]
		    },
		    {
		        "featureType": "road",
		        "stylers": [
		            {
		                "visibility": "on"
		            },
		            {
		                "color": "#ffffff"
		            }
		        ]
		    },
		    {
		        "featureType": "road.arterial",
		        "stylers": [
		            {
		                "visibility": "on"
		            },
		            {
		                "color": "#fee379"
		            }
		        ]
		    },
		    {
		        "featureType": "road.highway",
		        "stylers": [
		            {
		                "visibility": "on"
		            },
		            {
		                "color": "#fee379"
		            }
		        ]
		    },
		    {
		        "featureType": "landscape",
		        "stylers": [
		            {
		                "visibility": "on"
		            },
		            {
		                "color": "#f3f4f4"
		            }
		        ]
		    },
		    {
		        "featureType": "water",
		        "stylers": [
		            {
		                "visibility": "on"
		            },
		            {
		                "color": "#7fc8ed"
		            }
		        ]
		    },
		    {},
		    {
		        "featureType": "road",
		        "elementType": "labels",
		        "stylers": [
		            {
		                "visibility": "off"
		            }
		        ]
		    },
		    {
		        "featureType": "poi.park",
		        "elementType": "geometry.fill",
		        "stylers": [
		            {
		                "visibility": "on"
		            },
		            {
		                "color": "#83cead"
		            }
		        ]
		    },
		    {
		        "elementType": "labels",
		        "stylers": [
		            {
		                "visibility": "on"
		            }
		        ]
		    },
		    {
		        "featureType": "landscape.man_made",
		        "elementType": "geometry",
		        "stylers": [
		            {
		                "weight": 0.9
		            },
		            {
		                "visibility": "off"
		            }
		        ]
		    }
		]

		}, 
		internal: {id: 'map'}}, function(){
		  markers = handler.addMarkers(<%=raw @hash.to_json %>);
		  handler.bounds.extendWith(markers);
		  handler.fitMapToBounds();
	});
</script>
